				<form name="form" novalidate>
					<div class="box">
						<div class="title">
							Editar usuário {{ user.name }}
						</div>

						<div class="content">
							<div class="alert alert-success" ng-show="showMessage == 'success'">O usuário <b>{{ user.name }}</b> foi atualizado/criado com sucesso.</div>
							<div class="alert alert-danger" ng-show="showMessage == 'error'">Houve um erro ao atualizar/criar o usuário.</div>

							<div class="col-md-6">
								<div class="form-group">
									<label for="inputName">Nome</label>
									<input type="text" class="form-control" id="inputName" placeholder="Entre com o nome" ng-model="user.name" name="uName" required>

									<div ng-show="form.uName.$dirty && form.uName.$invalid" class="panel panel-danger" style="margin-top: 10px">
										<div class="panel-heading">Inválido</div>
										<div class="panel-body">
											<span ng-show="form.uName.$error.required">Escreva um nome.</span>
										</div>
									</div>
								</div>

								<div class="form-group">
									<label for="inputUsername">Usuário</label>
									<input type="text" class="form-control" ng-model="user.username" id="inputUsername" placeholder="Entre com o nome de usuário" name="uUsername" required>

									<div ng-show="form.uUsername.$dirty && form.uUsername.$invalid" class="panel panel-danger" style="margin-top: 10px">
										<div class="panel-heading">Inválido</div>
										<div class="panel-body">
											<span ng-show="form.uUsername.$error.required">Escreva um usuário.</span>
										</div>
									</div>
								</div>

								<div class="form-group">
									<label for="inputEmail">E-mail</label>
									<input type="email" class="form-control" ng-model="user.email" id="inputEmail" placeholder="Entre com o e-mail" name="uEmail">

									<div ng-show="form.uEmail.$dirty && form.uEmail.$invalid" class="panel panel-danger" style="margin-top: 10px">
										<div class="panel-heading">Inválido</div>
										<div class="panel-body">
											<span ng-show="form.uEmail.$error.required">Escreva um e-mail.</span>
											<span ng-show="form.uEmail.$error.email">Este e-mail não é válido.</span>
										</div>
									</div>
								</div>

								<div class="form-group">
									<label for="inputRole">Cargo (Tipo de Usuário)</label>

									<select ng-model="user.role" class="form-control" id="inputRole" ng-options="obj.value as obj.name for obj in available_roles" name="uRole" required>
									</select>

									<div ng-show="form.uRole.$dirty && form.uRole.$invalid" class="panel panel-danger" style="margin-top: 10px">
										<div class="panel-heading">Inválido</div>
										<div class="panel-body">
											<span ng-show="form.uRole.$error.required">Escolha um cargo.</span>
										</div>
									</div>
								</div>

								<div ng-switch on="updating">
									<div class="form-group" ng-switch-when="false">
										<label for="inputPassword">Senha</label>
										<input type="password" class="form-control" id="inputPassword" placeholder="Senha" ng-model="user.password" name="uPassword" required>

										<div ng-show="form.uPassword.$dirty && form.uPassword.$invalid" class="panel panel-danger" style="margin-top: 10px">
											<div class="panel-heading">Inválido</div>
											<div class="panel-body">
												<span ng-show="form.uPassword.$error.required">Escreva uma senha.</span>
											</div>
										</div>
									</div>

								<div class="form-group" ng-switch-when="true">
										<label for="inputPassword">Senha <span class="label label-info">Opcional</span></label>
										<input type="password" class="form-control" id="inputPassword" placeholder="Senha" ng-model="user.password">
									</div>
								</div>
							</div>

							<div class="col-md-6 update_about">
								<div class="avatar">
									<div class="desc">
										<label for="send_avatar" class="upload">Enviar novo avatar</label>
										<span>Arquivos permitidos: .jpg, .png, .gif</span>
										<input type="file" ng-file-select="onFileSelect($files)" accept=".jpg,.jpeg,.gif,.png" id="send_avatar">
									</div>

									<span id="avatar_edit" class="image" user-avatar avatar="user.avatar" type="background-image"></span>
								</div>

								<div class="infos">
									<h1>{{ user.name }}</h2>
									<h2>{{ user.username }}</h2>
								</div>
							</div>

							<div class="clearfix"></div>
						</div>

						<div class="submit_container">
							<button ng-disabled="form.$invalid || isUnchanged(user)" ng-click="send()" type="submit" class="btn btn-primary">Salvar</button>
						</div>

					</div>
				</form>